{"version":3,"sources":["assets/no_img.jpg","redux/reducer/MovieReducer.ts","pages/movie/Home.tsx","component/CommonType.ts","component/MovieTable.tsx","services/MovieService.ts","redux/action/MovieActions.ts","pages/movie/Movie.tsx","component/ImgUploader.tsx","component/MovieForm.tsx","pages/movie/MovieAdd.tsx","pages/movie/MovieModify.tsx","util/RouterListenerGuard.tsx","util/ScrollSet.ts","pages/Layout.tsx","redux/history.ts","redux/reducer/RootReducer.ts","redux/store.ts","App.tsx","index.tsx"],"names":["module","exports","SwitchType","Home","state","imgUrl","undefined","React","Component","saveMovieReducer","action","data","payload","movies","total","totalPage","getTotalPage","condition","limit","deleteMovieReducer","filter","m","_id","setMovieConditionReducer","newState","setMovieLoadingReducer","isLoading","updateMovieSwitch","movie","find","d","id","newObj","type","newVal","newData","map","movieDefaultState","page","key","Math","floor","TagColors","lastInputValue","getRandom","min","max","gap","random","getColumns","props","title","dataIndex","render","imgurl","src","alt","style","width","noImgUrl","filterDropdown","padding","value","onChange","e","onKeyChange","target","marginBottom","display","onPressEnter","console","log","onSearch","onClick","size","marginRight","filterIcon","SearchOutlined","types","t","i","color","length","text","isHot","record","checked","onSwitchChange","isClassic","isComming","to","placement","onConfirm","a","onDelete","message","success","okText","cancelText","getPagination","current","pageSize","handleChange","pagination","MovieService","axios","post","result","movieid","delete","get","params","put","createDeleteAction","createLoadingAction","loadingState","createConditionAction","createSwitchChangeAction","fetchMovies","dispatch","getState","resp","err","deleteMovie","connect","onLoad","modify","switchChange","newPage","newKey","useEffect","loading","rowKey","dataSource","columns","ImgUploader","showModel","getFileList","uid","name","url","handleRequest","options","formData","FormData","append","filename","file","request","Request","body","method","fetch","then","json","showModal","setState","HideModal","uploadButton","PlusOutlined","className","listType","fileList","this","customRequest","onPreview","onRemove","visible","footer","onCancel","TextArea","Input","MovieForm","getAreaGroup","label","span","getTypesGroup","scrollToFirstError","initialValues","FormInitialValues","onFinish","values","labelCol","wrapperCol","Item","rules","required","Group","gutter","marginTop","valuePropName","defaultValue","offset","htmlType","defaultProps","description","MovieAdd","add","MovieModify","modifyMovie","match","history","push","error","withRouter","listen","location","pathname","SetScrollHelper","dom","timer","scrollLeft","scrollTop","targetX","targetY","setX","setY","duration","clearInterval","times","ceil","curtimes","curX","curY","desX","desY","moveX","moveY","setInterval","set","Header","Layout","Sider","defaultMenuKeys","router","getMenuKey","ref","useRef","height","mode","theme","defaultSelectedKeys","exact","path","component","Movie","RouterListenerGuard","ScrollSet","createBrowserHistory","combineReducers","connectRouter","createStore","RootReducer","applyMiddleware","thunk","App","store","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.08a0c601.chunk.js","sourcesContent":["module.exports = \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wAARCAA2ADwDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD9S6TG4gdR/d9aWsrxHdyW1iqQtslnkWJXHVcnrQBJea5Z2CsZ51JXPyDlhUWla/aarLIkDktGN+CeqngN+dYup3ej6TBbwkoZ532mWVclj0PNGmJb2WrQtHEgS5zG4Uchhz+VAHWGWPb98HPfPenDjAzkGq88MQgkdUCkDJ2+tTRjEaemM5oAkopASR0pN3tQA6sLxfcQw6am9wJ/MVoUHVmFat1draxBwjSjPRetZselWsupHUZ2kkcgeWkgyE9aAObufsF48Ul5tguB8xjlB+U+tLpOnJcajJM13JFYhzKiuMZYjBweuMV1sgSUXbbFZuMDZVWGCWU4DRj/AIAaALcH2dLGWK2YGNFPGSSPxNWTIkFsJJGwgUVWjt5IIJw7Kdy8bBiqmovJOgiVSYtg3UAasE8dwm+Nsj60/k1zGjQz2us+XtaGxKbwvvXTqrSAMqjB55oAOMn39KUfNnGc4qTyxSFAPT8T3oAqKkweR0cDf2PanYn/ALyDHX5a5DxD401DS/EZ02OCEwnBDsT0xzVO6+JF7Daag/2FVkhYBNxPPNAHbyRyyo6iRMlcA1PGCi7SBwoHAzmuB034iane2sTtYw+ayyFwC3y46V31oxltoJXULI6AkA+ozQA4kHBwMjocdBSEKeufwOKm8sUeWKAHUjcDPFFFAFWawtJpBLLbo7+pHNJLp1pMux7eNgePu+nNFFABBZ2kCsIrdI93JwOtWVIVMAYoooAfRRRQB//Z\"","import { IMovieSwitchChangeAction } from './../action/MovieActions';\r\nimport { Reducer } from './ReducerType';\r\nimport { MovieActions, IMovieSaveAction, IMovieDeleteAction, IMovieConditionAction, IMovieLoadingAction } from '../action/MovieActions';\r\nimport { IMovie } from \"../../services/MovieService\"\r\nimport { ISearchCondition } from \"../../services/CommonTypes\"\r\n\r\n/**\r\n * 存储在仓库中的数据是必填的, 否则会导致数据缺失\r\n */\r\ntype IMovieCondition = Required<ISearchCondition>\r\n\r\n/**\r\n * 电影状态\r\n */\r\nexport interface IMovieState {\r\n    /**\r\n     * 电影数据\r\n     */\r\n    data: IMovie[],\r\n    /**\r\n     * 筛选条件\r\n     */\r\n    condition: IMovieCondition\r\n    /**\r\n     * 是否正在加载\r\n     */\r\n    isLoading: boolean\r\n    /**\r\n     * 电影数据的总数\r\n     */\r\n    total: number\r\n\r\n    /**\r\n     * 总页数\r\n     */\r\n    totalPage: number\r\n}\r\n\r\n// 规定movieReducer的格式: state必须是IMovieState, action类型由各自reducer接收action而定\r\ntype MovieReducer = Reducer<IMovieState, any>\r\n\r\nconst saveMovieReducer: MovieReducer = function (state, action: IMovieSaveAction) {\r\n    return {\r\n        ...state,\r\n        data: action.payload.movies,\r\n        total: action.payload.total,\r\n        totalPage: getTotalPage(action.payload.total, state.condition.limit)\r\n    }\r\n}\r\n\r\nconst deleteMovieReducer: MovieReducer = function (state, action: IMovieDeleteAction) {\r\n    return {\r\n        ...state,\r\n        data: state.data.filter(m => m._id !== action.payload),\r\n        total: state.total - 1,\r\n        totalPage: getTotalPage(state.total - 1, state.condition.limit)\r\n    }\r\n}\r\n\r\nconst setMovieConditionReducer: MovieReducer = function (state, action: IMovieConditionAction) {\r\n    const newState = {\r\n        ...state,\r\n        condition: {\r\n            ...state.condition,\r\n            ...action.payload\r\n        }\r\n    }\r\n    newState.totalPage = getTotalPage(newState.total, newState.condition.limit);\r\n    return newState;\r\n}\r\n\r\nconst setMovieLoadingReducer: MovieReducer = function (state, action: IMovieLoadingAction) {\r\n    return {\r\n        ...state,\r\n        isLoading: action.payload\r\n    }\r\n}\r\n\r\nconst updateMovieSwitch: MovieReducer = function (state, action: IMovieSwitchChangeAction) {\r\n    // 1. 获取改变的movie对象\r\n    const movie = state.data.find(d => d._id === action.payload.id);\r\n    if (!movie) return state;\r\n    // 2. 克隆原对象\r\n    const newObj = {...movie};\r\n    // 3. 找到对应的类型, 更改其值\r\n    newObj[action.payload.type] = action.payload.newVal;\r\n    // 4. 覆盖原数组, 并生成一个新的数组覆盖原数据\r\n    const newData = state.data.map(d => {\r\n        if (d._id !== action.payload.id) return d;\r\n        return newObj;\r\n    })\r\n    return {\r\n        ...state,\r\n        data: newData\r\n    }\r\n}\r\n\r\n/**\r\n * movie默认state\r\n */\r\nconst movieDefaultState: IMovieState = {\r\n    data: [],\r\n    condition: {\r\n        page: 1,\r\n        limit: 10,\r\n        key: \"\",\r\n    },\r\n    total: 0,\r\n    isLoading: false,\r\n    totalPage: 0\r\n}\r\n\r\nexport default (state: IMovieState = movieDefaultState, action: MovieActions): IMovieState => {\r\n    switch (action.type) {\r\n        case \"movie_save\":\r\n            return saveMovieReducer(state, action);\r\n        case \"movie_delete\":\r\n            return deleteMovieReducer(state, action);\r\n        case \"movie_condition\":\r\n            return setMovieConditionReducer(state, action);\r\n        case \"movie_loading\":\r\n            return setMovieLoadingReducer(state, action);\r\n        case \"movie_switch\": \r\n            return updateMovieSwitch(state, action);\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport enum SwitchType {\r\n    isHot = \"isHot\", isClassic = \"isClassic\", isComming = \"isComming\"\r\n}\r\n\r\n/**\r\n * 根据总条数和每页限制数计算总页码\r\n */\r\nfunction getTotalPage (total: number, limit: number): number {\r\n    return Math.floor((total + limit - 1) / limit);\r\n}","import React from 'react'\r\n\r\nexport class Home extends React.Component {\r\n\r\n    state = {\r\n        imgUrl: undefined,\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <h1>欢迎来到电影管理系统</h1>\r\n        )\r\n    }\r\n}","export const TagColors = [\"magenta\", \"red\", \"volcano\", \"orange\", \"gold\", \"lime\", \"green\", \"cyan\", \"blue\", \"geekblue\", \"purple\"]","import React, { useEffect } from \"react\";\r\nimport { IMovieState, SwitchType } from \"../redux/reducer/MovieReducer\";\r\nimport { Table, Tag, Switch, Button, message, Popconfirm, Input } from 'antd';\r\nimport { ColumnsType, TablePaginationConfig } from \"antd/lib/table\";\r\nimport { IMovie } from \"../services/MovieService\";\r\nimport { TagColors } from './CommonType';\r\nimport noImgUrl from '../assets/no_img.jpg';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { PaginationConfig } from \"antd/lib/pagination\";\r\nimport { SearchOutlined } from '@ant-design/icons';\r\n\r\nlet lastInputValue: string = \"\";\r\n\r\nfunction getRandom(min: number, max: number) {\r\n    const gap = max - min;\r\n    return Math.floor(Math.random() * gap + min);\r\n}\r\n\r\nfunction getColumns(props: IMovieState & IMovieTableEvent): ColumnsType<IMovie> {\r\n    return [\r\n        {\r\n            title: \"Poster\",\r\n            dataIndex: \"poster\",\r\n            render: (imgurl) => {\r\n                if (imgurl) {\r\n                    return <img src={imgurl} alt={\"\"} style={{width: '70px'}}/>\r\n                }\r\n                return <img src={noImgUrl} alt={\"\"} />\r\n            }\r\n        },\r\n        {\r\n            title: \"Name\",\r\n            dataIndex: \"name\",\r\n            filterDropdown: () => (\r\n                <div style={{ padding: 8 }}>\r\n                    <Input\r\n                        value={props.condition.key}\r\n                        onChange={(e) => props.onKeyChange(e.target.value)}\r\n                        style={{ width: 188, marginBottom: 8, display: 'block' }}\r\n                        onPressEnter={() => {\r\n                            if (props.condition.key !== lastInputValue) {\r\n                                console.log(lastInputValue === props.condition.key)\r\n                                props.onSearch();\r\n                                lastInputValue = props.condition.key;\r\n                            }\r\n                        }}\r\n                    />\r\n                    <Button\r\n                        onClick={() => {\r\n                            if (props.condition.key !== lastInputValue) {\r\n                                console.log(lastInputValue === props.condition.key)\r\n                                props.onSearch();\r\n                                lastInputValue = props.condition.key;\r\n                            }\r\n                        }}\r\n                        type=\"primary\"\r\n                        size=\"small\"\r\n                        style={{ width: 90, marginRight: 8 }}\r\n                    >\r\n                        Search\r\n                  </Button>\r\n                    <Button\r\n                        size=\"small\"\r\n                        style={{ width: 90 }}\r\n                        onClick={() => props.onKeyChange(\"\")}\r\n                    >\r\n                        Reset\r\n                  </Button>\r\n                </div>\r\n            ),\r\n            filterIcon: <SearchOutlined />\r\n        },\r\n        {\r\n            title: \"Type\",\r\n            dataIndex: \"types\",\r\n            render: (types: string[]) => types.map((t, i) => (<Tag key={i} color={TagColors[getRandom(0, TagColors.length)]}>{t}</Tag>))\r\n        },\r\n        {\r\n            title: \"Area\",\r\n            dataIndex: \"area\",\r\n            render: (types: string[]) => types.map((t, i) => (<Tag key={i} color={TagColors[getRandom(0, TagColors.length)]}>{t}</Tag>))\r\n        },\r\n        {\r\n            title: \"Timelong\",\r\n            dataIndex: \"timeLong\",\r\n            render: (text: string) => text + \"分钟\"\r\n        },\r\n        {\r\n            title: \"Hot\",\r\n            dataIndex: \"isHot\",\r\n            render: (isHot: boolean, record) => {\r\n                return <Switch checked={isHot} onChange={newVal => {\r\n                    props.onSwitchChange(SwitchType.isHot, newVal, record._id!);\r\n                }} />\r\n            }\r\n        },\r\n        {\r\n            title: \"Classic\",\r\n            dataIndex: \"isClassic\",\r\n            render: (isClassic: boolean, record) => {\r\n                return <Switch checked={isClassic} onChange={newVal => {\r\n                    props.onSwitchChange(SwitchType.isClassic, newVal, record._id!);\r\n                }} />\r\n            }\r\n        },\r\n        {\r\n            title: \"Comming\",\r\n            dataIndex: \"isComming\",\r\n            render: (isComming: boolean, record) => {\r\n                return <Switch checked={isComming} onChange={newVal => {\r\n                    props.onSwitchChange(SwitchType.isComming, newVal, record._id!);\r\n                }} />\r\n            }\r\n        },\r\n        {\r\n            title: \"Operation\",\r\n            dataIndex: \"_id\",\r\n            render: (id: string) => {\r\n                return <div>\r\n                    <NavLink to={\"/movie/modify/\" + id}>\r\n                        <Button type=\"primary\" size=\"small\">操作</Button>\r\n                    </NavLink>\r\n                    <Popconfirm placement=\"top\" title=\"Are you sure to delete this movie\" onConfirm={async () => {\r\n                        await props.onDelete(id);\r\n                        message.success('Delete is success');\r\n                    }} okText=\"Yes\" cancelText=\"No\">\r\n                        <Button type=\"danger\" size=\"small\">删除</Button>\r\n                    </Popconfirm>\r\n                </div>\r\n            }\r\n        }\r\n    ]\r\n}\r\n\r\nexport interface IMovieTableEvent {\r\n    onLoad: () => void\r\n    onSwitchChange: (type: SwitchType, newVal: boolean, id: string) => void\r\n    onDelete: (id: string) => Promise<void>\r\n    onChange: (current: number) => void\r\n    onKeyChange: (newKey: string) => void\r\n    onSearch: () => void\r\n}\r\n\r\nfunction getPagination(props: IMovieState & IMovieTableEvent): false | TablePaginationConfig {\r\n    if (props.total === 0) return false;\r\n    return {\r\n        current: props.condition.page,\r\n        total: props.total,\r\n        pageSize: props.condition.limit\r\n    }\r\n}\r\n\r\nfunction handleChange(props: IMovieState & IMovieTableEvent) {\r\n    return function (pagination: PaginationConfig) {\r\n        console.log(\"发生变化\");\r\n        props.onChange(pagination.current!);\r\n    }\r\n}\r\n\r\nexport const MovieTable: React.FC<IMovieState & IMovieTableEvent> = (props) => {\r\n    // 1. 请求数据\r\n    // eslint-disable-next-line\r\n    useEffect(() => { props.onLoad() }, [props.onLoad])\r\n    return (\r\n        <Table\r\n            loading={props.isLoading}\r\n            rowKey=\"_id\"\r\n            dataSource={props.data}\r\n            columns={getColumns(props)}\r\n            pagination={getPagination(props)}\r\n            onChange={handleChange(props)}\r\n        />\r\n    );\r\n}","import { ISearchData, ISearchError, ISearchCondition, ISearchPageData } from './CommonTypes';\r\nimport axios from 'axios'\r\n/**\r\n * 向服务器端发送请求: 对电影数据进行增删改查\r\n */\r\n\r\nexport interface IMovie {\r\n    _id?: string\r\n    name: string\r\n    types: string[]\r\n    area: string[]\r\n    timeLong: number\r\n    isHot: boolean\r\n    isClassic: boolean\r\n    isComming: boolean\r\n    description?: string\r\n    poster?: string\r\n}\r\n\r\nexport class MovieService {\r\n\r\n    public static async add(movie: IMovie): Promise<ISearchData<IMovie> | ISearchError> {\r\n        const result = await axios.post('/api/movie', movie)\r\n        return result.data;\r\n    }   \r\n\r\n    public static async delete(movieid: string): Promise<ISearchData<true> | ISearchError> {\r\n        const result = await axios.delete('/api/movie/' + movieid);\r\n        return result.data;\r\n    }\r\n\r\n    public static async findById(movieid: string): Promise<ISearchData<IMovie> | ISearchError> {\r\n        const result = await axios.get('/api/movie/' + movieid);\r\n        return result.data;\r\n    }\r\n\r\n    public static async find(condition?: ISearchCondition): Promise<ISearchPageData<IMovie>> {\r\n        const result = await axios.get('/api/movie', {\r\n            params: condition\r\n        });\r\n        return result.data;\r\n    }\r\n\r\n    public static async modify(movieid: string, movie: Partial<IMovie>): Promise<ISearchData<IMovie> | ISearchError> {\r\n        const result = await axios.put(`/api/movie/${movieid}`, movie);\r\n        return result.data;\r\n    }\r\n}","import { SwitchType } from './../reducer/MovieReducer';\r\nimport { MovieService } from './../../services/MovieService';\r\nimport { IMovie } from '../../services/MovieService';\r\nimport { IAction } from './ActionType';\r\nimport { ISearchCondition } from '../../services/CommonTypes';\r\nimport { ThunkAction } from 'redux-thunk'\r\nimport { IRootState } from '../reducer/RootReducer';\r\n\r\n/**\r\n * 规定更新movie数据action的格式\r\n */\r\nexport type IMovieSaveAction = IAction<'movie_save', {\r\n    movies: IMovie[],\r\n    total: number\r\n}>\r\n\r\nexport function createSaveAction(movies: IMovie[], total: number): IMovieSaveAction {\r\n    return {\r\n        type: \"movie_save\",\r\n        payload: {\r\n            movies, total\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * 规定删除某movie数据action的格式\r\n */\r\nexport type IMovieDeleteAction = IAction<'movie_delete', string>\r\n\r\nexport function createDeleteAction(movieid: string): IMovieDeleteAction {\r\n    return {\r\n        type: \"movie_delete\",\r\n        payload: movieid\r\n    }\r\n}\r\n\r\n/**\r\n * 规定更新loading数据action的格式\r\n */\r\nexport type IMovieLoadingAction = IAction<'movie_loading', boolean>\r\n\r\nexport function createLoadingAction(loadingState: boolean): IMovieLoadingAction {\r\n    return {\r\n        type: \"movie_loading\",\r\n        payload: loadingState\r\n    }\r\n}\r\n\r\n/**\r\n * 规定设置condition数据action的格式\r\n */\r\nexport type IMovieConditionAction = IAction<'movie_condition', ISearchCondition>\r\n\r\nexport function createConditionAction(condition: ISearchCondition): IMovieConditionAction {\r\n    return {\r\n        type: \"movie_condition\",\r\n        payload: condition\r\n    }\r\n}\r\n\r\n/**\r\n * 某个swtich发生变化\r\n */\r\nexport function createSwitchChangeAction(type: SwitchType, newVal: boolean, id: string): IMovieSwitchChangeAction {\r\n    return {\r\n        type: \"movie_switch\",\r\n        payload: {\r\n            newVal, id, type\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * 异步获取movie数据\r\n */\r\nexport function fetchMovies(condition: ISearchCondition): ThunkAction<Promise<void>, IRootState, undefined, MovieActions> {\r\n    return async function (dispatch, getState) {\r\n        // 1. 将正在获取数据的状态设置为true\r\n        dispatch(createLoadingAction(true));\r\n        // 2. 设置condition\r\n        dispatch(createConditionAction(condition));\r\n        // 3. 根据新的condition进行查询\r\n        const resp = await MovieService.find(getState().movie.condition);\r\n        // 4. 根据返回值更新数据\r\n        if (!resp.err) {\r\n            dispatch(createSaveAction(resp.data, resp.total));\r\n        }\r\n        // 5. 将状态设置回来\r\n        dispatch(createLoadingAction(false));\r\n    }\r\n}\r\n\r\n/**\r\n * 删除一个电影\r\n */\r\nexport function deleteMovie(movieid: string): ThunkAction<Promise<void>, IRootState, undefined, MovieActions> {\r\n    return async dispatch => {\r\n        dispatch(createLoadingAction(true));\r\n        await MovieService.delete(movieid);\r\n        dispatch(createDeleteAction(movieid));\r\n        dispatch(createLoadingAction(false));\r\n    }\r\n}\r\n\r\n/**\r\n * 异步修改某个电影的switch状态\r\n */\r\nexport function switchChange(type: SwitchType, newVal: boolean, id: string): ThunkAction<Promise<void>, IRootState, undefined, MovieActions> {\r\n    return async dispatch => {\r\n        // 1. 将是否正在加载状态设置为true\r\n        dispatch(createLoadingAction(true));\r\n        // 2. 异步修改对应的值\r\n        await MovieService.modify(id, {\r\n            [type]: newVal\r\n        })\r\n        // 3. 修改store中的状态\r\n        dispatch(createSwitchChangeAction(type, newVal, id));\r\n        // 4. 将是否正在加载状态设置为false\r\n        dispatch(createLoadingAction(false));\r\n    }\r\n}\r\n\r\nexport type IMovieSwitchChangeAction = IAction<'movie_switch', {\r\n    newVal: boolean\r\n    id: string,\r\n    type: SwitchType\r\n}>\r\n\r\n\r\nexport type MovieActions = IMovieSaveAction | IMovieDeleteAction | IMovieLoadingAction | IMovieConditionAction | IMovieSwitchChangeAction;","import { MovieTable, IMovieTableEvent } from '../../component/MovieTable';\r\nimport { connect } from 'react-redux';\r\nimport { IRootState } from '../../redux/reducer/RootReducer';\r\nimport { Dispatch } from 'react';\r\nimport { fetchMovies, switchChange, deleteMovie, createConditionAction } from '../../redux/action/MovieActions';\r\n\r\nconst mapStateToProps = (state: IRootState) => state.movie;\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<any>): IMovieTableEvent => ({\r\n  onLoad() {\r\n    dispatch(fetchMovies({}));\r\n  },\r\n  onSwitchChange(type, newVal, id) {\r\n    dispatch(switchChange(type, newVal, id));\r\n  },\r\n  async onDelete(id: string) {\r\n    dispatch(deleteMovie(id));\r\n  },\r\n  onChange(newPage: number) {\r\n    dispatch(fetchMovies({\r\n      page: newPage\r\n    }))\r\n  },\r\n  onKeyChange(newKey) {\r\n    dispatch(createConditionAction({\r\n      key: newKey\r\n    }))\r\n  },\r\n  onSearch() {\r\n    dispatch(fetchMovies({\r\n      page: 1\r\n    }))\r\n  }\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MovieTable);","import React from \"react\";\r\nimport { Upload, Modal } from \"antd\";\r\nimport { UploadFile, RcCustomRequestOptions } from \"antd/lib/upload/interface\";\r\nimport { PlusOutlined } from \"@ant-design/icons\";\r\n\r\n// 因为fileList受控时, onChange函数仅触发一次, 所以要自行封装customRequest函数\r\n\r\ninterface IProps {\r\n    value?: string,\r\n    onChange?: (url: string) => void\r\n}\r\n\r\ninterface IState {\r\n    showModel: boolean\r\n}\r\n\r\nexport class ImgUploader extends React.Component<IProps, IState> {\r\n\r\n    state: IState = {\r\n        showModel: false\r\n    }\r\n\r\n    /**\r\n     * 用于获取fileList\r\n     */\r\n    private getFileList = (): UploadFile[] | undefined => {\r\n        if (!this.props.value) return undefined;\r\n        return [{\r\n            uid: this.props.value,\r\n            name: this.props.value,\r\n            url: this.props.value\r\n        }]\r\n    }\r\n\r\n    /**\r\n     * 将图片上传到对应action时触发的函数\r\n     */\r\n    private handleRequest = async (options: RcCustomRequestOptions) => {\r\n        const formData = new FormData();\r\n        formData.append(options.filename, options.file);\r\n        // fetch api\r\n        const request = new Request(options.action, {\r\n            body: formData,\r\n            method: \"post\"\r\n        })\r\n        const resp = await fetch(request).then(resp => resp.json());\r\n        if (this.props.onChange){\r\n            this.props.onChange(resp.data);\r\n        }\r\n    }\r\n\r\n    private showModal = () => {\r\n        this.setState({\r\n            showModel: true\r\n        })\r\n    }\r\n\r\n    private HideModal = () => {\r\n        this.setState({\r\n            showModel: false\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const uploadButton = (<div>\r\n            <PlusOutlined />\r\n            <div className=\"ant-upload-text\">图片上传</div>\r\n        </div>);\r\n        return (\r\n            <div>\r\n                <Upload\r\n                    action=\"/api/upload\"\r\n                    name=\"imgfile\"\r\n                    listType=\"picture-card\"\r\n                    fileList={this.getFileList()}\r\n                    customRequest={this.handleRequest}\r\n                    onPreview={this.showModal}\r\n                    onRemove={() => {\r\n                        if (this.props.onChange){\r\n                            this.props.onChange(\"\");\r\n                        }\r\n                    }}\r\n                >\r\n                    {this.props.value ? null : uploadButton}\r\n                </Upload >\r\n                <Modal visible={this.state.showModel} footer={null} onCancel={this.HideModal}>\r\n                    <img alt=\"example\" style={{width: '100%'}}  src={this.props.value}  />\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport { Form, Input, Button, Checkbox, Col, Row, InputNumber, Switch } from \"antd\";\r\nimport { ImgUploader } from \"./ImgUploader\";\r\nimport { IMovie } from \"../services/MovieService\";\r\n\r\nconst { TextArea } = Input;\r\n\r\ninterface IProps {\r\n    FormInitialValues: IMovie\r\n    onFinish: (values: IMovie) => void\r\n}\r\n\r\nexport default class MovieForm extends React.Component<IProps> {\r\n\r\n    static defaultProps = {\r\n        FormInitialValues: {\r\n            isClassic: false,\r\n            isHot: false,\r\n            isComming: false,\r\n            description: \"\",\r\n        }\r\n    }\r\n\r\n    private getAreaGroup = () => {\r\n        const areaGroup = [\r\n            { label: '中国大陆', value: '中国大陆' },\r\n            { label: '美国', value: '美国' },\r\n            { label: '欧洲', value: '欧洲' },\r\n            { label: '日本', value: '日本' },\r\n            { label: '韩国', value: '韩国' },\r\n            { label: '香港', value: '香港' },\r\n            { label: '台湾', value: '台湾' },\r\n            { label: '泰国', value: '泰国' },\r\n            { label: '印度', value: '印度' },\r\n            { label: '法国', value: '法国' },\r\n            { label: '英国', value: '英国' },\r\n            { label: '俄罗斯', value: '俄罗斯' },\r\n            { label: '意大利', value: '意大利' },\r\n            { label: '西班牙', value: '西班牙' },\r\n            { label: '德国', value: '德国' },\r\n            { label: '波兰', value: '波兰' },\r\n            { label: '澳大利亚', value: '澳大利亚' },\r\n            { label: '伊朗', value: '伊朗' },\r\n            { label: '其他', value: '其他' },\r\n        ]\r\n        return areaGroup.map(a => (<Col span={4} key={a.value}>\r\n            <Checkbox value={a.value}>{a.label}</Checkbox>\r\n        </Col>));\r\n    }\r\n\r\n    private getTypesGroup = () => {\r\n        const typesGroup = [\r\n            { label: '爱情', value: '爱情' },\r\n            { label: '喜剧', value: '喜剧' },\r\n            { label: '动画', value: '动画' },\r\n            { label: '剧情', value: '剧情' },\r\n            { label: '恐怖', value: '恐怖' },\r\n            { label: '惊悚', value: '惊悚' },\r\n            { label: '科幻', value: '科幻' },\r\n            { label: '动作', value: '动作' },\r\n            { label: '悬疑', value: '悬疑' },\r\n            { label: '犯罪', value: '犯罪' },\r\n            { label: '冒险', value: '冒险' },\r\n            { label: '战争', value: '战争' },\r\n            { label: '奇幻', value: '奇幻' },\r\n            { label: '运动', value: '运动' },\r\n            { label: '家庭', value: '家庭' },\r\n            { label: '古装', value: '古装' },\r\n            { label: '武侠', value: '武侠' },\r\n            { label: '西部', value: '西部' },\r\n            { label: '历史', value: '历史' },\r\n            { label: '传记', value: '传记' },\r\n            { label: '歌舞', value: '歌舞' },\r\n            { label: '黑色电影', value: '黑色电影' },\r\n            { label: '短片', value: '短片' },\r\n            { label: '纪录片', value: '纪录片' },\r\n            { label: '其他', value: '其他' },\r\n        ]\r\n        return typesGroup.map(t => (<Col span={4} key={t.value}>\r\n            <Checkbox value={t.value}>{t.label}</Checkbox>\r\n        </Col>));\r\n    }\r\n\r\n    render() {\r\n        const layout = {\r\n            labelCol: { span: 2 },\r\n            wrapperCol: { span: 16 },\r\n        };\r\n        return (\r\n            <Form\r\n                scrollToFirstError\r\n                initialValues={\r\n                    {\r\n                        ...this.props.FormInitialValues\r\n                    }\r\n                }\r\n                onFinish={(values) => {\r\n                    this.props.onFinish(values as IMovie);\r\n                }}\r\n                {...layout}\r\n            >\r\n                <Form.Item\r\n                    label=\"电影名称\"\r\n                    name=\"name\"\r\n                    rules={[{ required: true, message: \"电影名称不能为空\" }, { min: 4, message: \"电影名称字数不能小于4\" }, { max: 12, message: \"电影名称的长度不能超过12\" }]}\r\n                >\r\n                    <Input />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"封面图\"\r\n                    name=\"poster\"\r\n                >\r\n                    <ImgUploader />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"电影时长\"\r\n                    name=\"timeLong\"\r\n                    rules={[{ required: true, message: '电影时长不能为空' }, { type: 'number', min: 1, message: \"电影时长不足一分钟, 请检查时长是否有误\" }, { type: 'number', max: 99999, message: \"电影时长超过99999分钟, 请检查时长是否有误\" }]}\r\n                >\r\n                    <InputNumber />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"上映地区\"\r\n                    name=\"area\"\r\n                    rules={[{ required: true, message: '电影的上映地区不能为空' }, { type: 'array', min: 1, message: \"电影的上映地区不能小于1\" }]}\r\n                >\r\n                    <Checkbox.Group style={{ width: '100%' }} >\r\n                        <Row gutter={[8, 10]} style={{ marginTop: 1 }}>\r\n                            {this.getAreaGroup()}\r\n                        </Row>\r\n                    </Checkbox.Group>\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"类型\"\r\n                    name=\"types\"\r\n                    rules={[{ required: true, message: '电影的类型不能为空' }, { type: 'array', min: 1, message: \"电影的类型不能小于1\" }]}\r\n                >\r\n                    <Checkbox.Group style={{ width: '100%' }} >\r\n                        <Row gutter={[8, 10]} style={{ marginTop: 1 }}>\r\n                            {this.getTypesGroup()}\r\n                        </Row>\r\n                    </Checkbox.Group>\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"是否经典\"\r\n                    name=\"isClassic\"\r\n                    valuePropName=\"checked\"\r\n                >\r\n                    <Switch />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"是否即将上映\"\r\n                    name=\"isComming\"\r\n                    valuePropName=\"checked\"\r\n                >\r\n                    <Switch />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"是否热映\"\r\n                    name=\"isHot\"\r\n                    valuePropName=\"checked\"\r\n                >\r\n                    <Switch />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"描述\"\r\n                    name=\"description\"\r\n                >\r\n                    <TextArea defaultValue=\"\" />\r\n                </Form.Item>\r\n                <Form.Item wrapperCol={{ span: 16, offset: 2 }}>\r\n                    <Button type=\"primary\" htmlType=\"submit\">\r\n                        提交\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        )\r\n    }\r\n}","import React from 'react'\r\nimport MovieForm from '../../component/MovieForm'\r\nimport { MovieService } from '../../services/MovieService'\r\nimport { RouteComponentProps } from 'react-router';\r\n\r\nexport class MovieAdd extends React.Component<RouteComponentProps> {\r\n    \r\n    render() {\r\n        return (\r\n            <MovieForm onFinish={async (movie) => MovieService.add(movie)} />\r\n        )\r\n    }\r\n}","import React from 'react'\r\nimport { RouteComponentProps } from 'react-router-dom'\r\nimport MovieForm from '../../component/MovieForm'\r\nimport { MovieService, IMovie } from '../../services/MovieService'\r\nimport { connect } from 'react-redux'\r\nimport { IRootState } from '../../redux/reducer/RootReducer'\r\nimport { message } from 'antd'\r\n\r\n// 定义params中的属性\r\ninterface IParams {\r\n    id: string\r\n}\r\n\r\n// interface IMovieModifyProps extends RouteComponentProps<IParams> {\r\n//     // 写该组件需要使用到的props\r\n// }\r\n\r\ninterface IMyProps {\r\n    data: IMovie[]\r\n}\r\n\r\ntype IMovieModifyProps = IMyProps & RouteComponentProps<IParams>\r\n\r\nclass MovieModify extends React.Component<IMovieModifyProps> {\r\n\r\n    private modifyMovie = async (movie: IMovie) => {\r\n        const resp = await MovieService.modify(this.props.match.params.id, movie);\r\n        if(resp.err === null) {\r\n            message.success(\"修改成功, 5s后转到电影列表页面\", 5, () => {\r\n                this.props.history.push('/movie');\r\n            });\r\n        }\r\n        else {\r\n            message.error(\"数据异常, 修改数据失败\");\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const movieid = this.props.match.params.id;\r\n        const movie = this.props.data.find(d => d._id === movieid);\r\n        return (\r\n            <MovieForm onFinish={this.modifyMovie} FormInitialValues={movie} />\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state: IRootState) {\r\n    return state.movie;\r\n}\r\n\r\nexport default connect(mapStateToProps)(MovieModify);","/**\r\n * 监听路由变化\r\n */\r\nimport React, { useEffect } from 'react';\r\nimport { RouteComponentProps, withRouter } from 'react-router';\r\n\r\ninterface IProps extends RouteComponentProps {\r\n    onChange: (routeProps: RouteComponentProps) => void\r\n}\r\n\r\nconst RouterListenGuard: React.FC<IProps> = (props) => {\r\n    useEffect(() => {\r\n        return props.history.listen(() => {\r\n            props.onChange({ location: props.location, history: props.history, match: props.match });\r\n        })\r\n        // eslint-disable-next-line\r\n    }, [props.location.pathname])\r\n    return null;\r\n}\r\n\r\nexport default withRouter(RouterListenGuard)","/**\r\n * 用于设置滚动条的帮助类\r\n */\r\nexport default class SetScrollHelper {\r\n\r\n    private timer: any\r\n\r\n    constructor(public dom: HTMLElement) { }\r\n\r\n    public setX(target: number) {\r\n        this.dom.scrollLeft = target;\r\n    }\r\n\r\n    public setY(target: number) {\r\n        this.dom.scrollTop = target;\r\n    }\r\n\r\n    public set(targetX: number, targetY: number) {\r\n        this.setX(targetX);\r\n        this.setY(targetY);\r\n    }\r\n\r\n    public animateSet(targetX: number, targetY: number, duration: number = 500) {\r\n        clearInterval(this.timer);\r\n        const times = Math.ceil(duration / 16);\r\n        let curtimes = 0;\r\n        let curX = this.dom.scrollLeft;\r\n        let curY = this.dom.scrollTop;\r\n        const desX = targetX - curX;\r\n        const desY = targetY - curY;\r\n        const moveX = desX / times;\r\n        const moveY = desY / times;\r\n        this.timer = setInterval(() => {\r\n            curtimes++;\r\n            curX = this.dom.scrollLeft;\r\n            curY = this.dom.scrollTop;\r\n            this.set(curX + moveX, curY + moveY);\r\n            if (curtimes >= times) {\r\n                console.log(this.dom.scrollLeft, targetX, this.dom.scrollTop, targetY);\r\n                this.set(targetX, targetY);\r\n                clearInterval(this.timer);\r\n            }\r\n        }, 16)\r\n    }\r\n}","import React, { useRef } from 'react'\r\nimport { NavLink, Route } from 'react-router-dom'\r\nimport { Home } from './movie/Home'\r\nimport Movie from './movie/Movie'\r\nimport { MovieAdd } from './movie/MovieAdd'\r\nimport MovieModify from './movie/MovieModify'\r\nimport { Layout, Menu } from 'antd';\r\nimport RouterListenerGuard from '../util/RouterListenerGuard'\r\nimport ScrollSet from '../util/ScrollSet'\r\nimport { IRootState } from '../redux/reducer/RootReducer'\r\nimport { connect } from 'react-redux'\r\n\r\nconst { Header, Sider } = Layout;\r\n\r\nfunction mapStateToProps(state: IRootState) {\r\n    return state;\r\n}\r\n\r\ninterface IProps {\r\n    router: any\r\n}\r\n\r\nfunction getMenuKey(props: IProps) {\r\n    if (!props.router) return [];\r\n    return [props.router.location.pathname];\r\n}\r\n\r\nconst _Layout: React.FC<IProps> = (props) => {\r\n    const defaultMenuKeys = getMenuKey(props);\r\n    const ref: any = useRef();\r\n    return (\r\n        <div style={{ width: '100vw', height: '100vh', display: \"flex\" }}>\r\n            <Layout>\r\n                <Header>\r\n                    <NavLink to=\"/\">欢迎使用电影系统</NavLink>\r\n                </Header>\r\n                <Layout>\r\n                    <Sider>\r\n                        <Menu\r\n                            mode=\"inline\"\r\n                            theme=\"dark\"\r\n                            defaultSelectedKeys={defaultMenuKeys}\r\n                        >\r\n                            <Menu.Item key=\"/\">\r\n                                <NavLink to=\"/\">首页</NavLink>\r\n                            </Menu.Item>\r\n                            <Menu.Item key=\"/movie\">\r\n                                <NavLink to=\"/movie\">电影列表</NavLink>\r\n                            </Menu.Item>\r\n                            <Menu.Item key=\"/movie/add\">\r\n                                <NavLink to=\"/movie/add\">添加电影</NavLink>\r\n                            </Menu.Item>\r\n                        </Menu>\r\n                    </Sider>\r\n                    <div style={{ padding: \"1em\" }} className=\"ant-layout-content\" ref={ref}>\r\n                        <Route exact={true} path=\"/\" component={Home} />\r\n                        <Route exact={true} path=\"/movie\" component={Movie} />\r\n                        <Route exact={true} path=\"/movie/add\" component={MovieAdd} />\r\n                        <Route exact={true} path=\"/movie/modify/:id\" component={MovieModify} />\r\n                    </div>\r\n                </Layout>\r\n            </Layout>\r\n            <RouterListenerGuard onChange={() => {\r\n                const mainScrollSet = new ScrollSet(ref.current);\r\n                mainScrollSet.set(0, 0);\r\n            }} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps)(_Layout);","import { createBrowserHistory } from 'history'\r\n\r\nexport default createBrowserHistory();","import { combineReducers } from 'redux';\r\nimport movie, { IMovieState } from './MovieReducer';\r\nimport { connectRouter } from 'connected-react-router'\r\nimport history from '../history'\r\n\r\nexport interface IRootState {\r\n    movie: IMovieState\r\n    router: History\r\n}\r\n\r\nexport default combineReducers({\r\n    movie,\r\n    router: connectRouter(history)\r\n})","import { createStore, applyMiddleware } from 'redux';\r\nimport RootReducer, { IRootState } from './reducer/RootReducer';\r\nimport thunk, { ThunkMiddleware } from 'redux-thunk';\r\n\r\nexport default createStore(RootReducer, \r\n    applyMiddleware(thunk as ThunkMiddleware<IRootState>)\r\n)","import React from 'react';\nimport Layout from './pages/Layout';\n// import { BrowserRouter as Router } from 'react-router-dom';\nimport { ConnectedRouter } from 'connected-react-router'\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport history from './redux/history';\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <ConnectedRouter history={history}>\n        <>\n          <Layout />\n        </>\n      </ConnectedRouter>\n    </Provider>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'antd/dist/antd.css';\n\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}