(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-89da6120"],{"29e8":function(t,e,i){"use strict";i("9da1")},"9da1":function(t,e,i){},a434:function(t,e,i){"use strict";var n=i("23e7"),a=i("23cb"),l=i("a691"),o=i("50c4"),r=i("7b0b"),s=i("65f0"),u=i("8418"),c=i("1dde"),d=i("ae40"),f=c("splice"),m=d("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,p=Math.min,b=9007199254740991,g="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!f||!m},{splice:function(t,e){var i,n,c,d,f,m,v=r(this),y=o(v.length),_=a(t,y),w=arguments.length;if(0===w?i=n=0:1===w?(i=0,n=y-_):(i=w-2,n=p(h(l(e),0),y-_)),y+i-n>b)throw TypeError(g);for(c=s(v,n),d=0;d<n;d++)f=_+d,f in v&&u(c,d,v[f]);if(c.length=n,i<n){for(d=_;d<y-n;d++)f=d+n,m=d+i,f in v?v[m]=v[f]:delete v[m];for(d=y;d>y-n+i;d--)delete v[d-1]}else if(i>n)for(d=y-n;d>_;d--)f=d+n-1,m=d+i-1,f in v?v[m]=v[f]:delete v[m];for(d=0;d<i;d++)v[d+_]=arguments[d+2];return v.length=y-n+i,c}})},d1d8:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v(" 添加 ")])],1),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"696px"},attrs:{data:t.list,"element-loading-text":"Loading",border:"",size:"mini","highlight-current-row":""}},[i("el-table-column",{attrs:{align:"center",label:"序号",width:"95"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.$index)+" ")]}}])}),i("el-table-column",{attrs:{label:"ID",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row._id)+" ")]}}])}),i("el-table-column",{attrs:{align:"center",label:"照片",width:"240"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("el-image",{staticStyle:{width:"120px",height:"50px"},attrs:{src:t.row.url,fit:"fill"}})]}}])}),i("el-table-column",{attrs:{align:"center",label:"操作",width:"140","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row,a=e.$index;return[i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",icon:"el-icon-edit",type:"danger"},on:{click:function(e){return t.handleDelete(n,a)}}},[t._v(" 删除 ")])]}}])})],1),i("el-dialog",{attrs:{title:"添加",visible:t.dialogFormVisible,width:"500px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-form",{ref:"dataForm",attrs:{model:t.form}},[i("el-form-item",[i("Upload",{on:{input:t.photoListChange},model:{value:t.form.url,callback:function(e){t.$set(t.form,"url",e)},expression:"form.url"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.handleCreate}},[t._v("确 定")])],1)],1)],1)},a=[],l=(i("a434"),i("d81d"),i("e4989")),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"singleImageUpload2 upload-container"},[i("el-upload",{staticClass:"upload-demo",attrs:{action:"/api/common/uploadPhoto","on-success":t.handleImageSuccess,"on-remove":t.handleRemove,"file-list":t.fileList,drag:"","list-type":"picture"}},[i("i",{staticClass:"el-icon-upload"}),i("div",{staticClass:"el-upload__text"},[t._v(" 将文件拖到此处，或"),i("em",[t._v("点击上传")])])])],1)},r=[],s={name:"SingleImageUpload2",data:function(){return{fileList:[]}},methods:{emitInput:function(t){this.$emit("input",t)},handleImageSuccess:function(t,e,i){this.emitInput(i)},handleRemove:function(t,e){this.emitInput(e)}}},u=s,c=(i("29e8"),i("2877")),d=Object(c["a"])(u,o,r,!1,null,"e53bd012",null),f=d.exports,m={components:{Upload:f},data:function(){return{list:null,listQuery:{id:void 0,page:1,limit:20},listLoading:!0,dialogFormVisible:!1,form:{id:void 0,url:[]}}},created:function(){var t=this.$route.params&&this.$route.params.id;this.listQuery.id=t,this.form.id=t,this.fetchData()},methods:{fetchData:function(){var t=this;this.listLoading=!0,Object(l["f"])(this.listQuery).then((function(e){t.list=e.data,t.listLoading=!1}))},handleCreate:function(){var t=this;this.$refs["dataForm"].validate((function(e){e&&Object(l["b"])(t.form).then((function(){t.dialogFormVisible=!1,t.fetchData(t.listQuery),t.$notify({title:"成功",message:"添加成功",type:"success",duration:2e3})}))}))},handleDelete:function(t,e){var i=this,n=t._id;Object(l["d"])(n).then((function(){i.$notify({title:"成功",message:"删除回复成功",type:"success",duration:2e3}),i.list.splice(e,1)}))},photoListChange:function(t){this.form.url=t.map((function(t){return t.response.data}))}}},h=m,p=Object(c["a"])(h,n,a,!1,null,null,null);e["default"]=p.exports},e4989:function(t,e,i){"use strict";i.d(e,"e",(function(){return a})),i.d(e,"f",(function(){return l})),i.d(e,"b",(function(){return o})),i.d(e,"a",(function(){return r})),i.d(e,"g",(function(){return s})),i.d(e,"d",(function(){return u})),i.d(e,"c",(function(){return c}));var n=i("b775");function a(t){return Object(n["a"])({url:"/album/list",method:"get",params:t})}function l(t){return Object(n["a"])({url:"/album/photoList",method:"get",params:t})}function o(t){return Object(n["a"])({url:"/album/addPhoto",method:"post",data:t})}function r(t){return Object(n["a"])({url:"/album/create",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/album/update",method:"patch",data:t})}function u(t){return Object(n["a"])({url:"/album/deletePhoto",method:"delete",params:{id:t}})}function c(t){return Object(n["a"])({url:"/album/deleted",method:"delete",params:{id:t}})}}}]);